{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/todoAgency/detail.vue?dc08","webpack:///./src/pages/todoAgency/detail.vue?4042","webpack:///./src/pages/todoAgency/detail.vue?175a","webpack:///./src/pages/todoAgency/detail.vue?e96f","uni-app:///src/pages/todoAgency/detail.vue","webpack:///./src/pages/todoAgency/detail.vue?06a8","webpack:///./src/pages/todoAgency/detail.vue?a66b"],"names":["require","_vue","_interopRequireDefault","_detail","e","__esModule","default","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","_montageApi","_locationUrl","_vuex","_typeof","o","Symbol","iterator","constructor","prototype","_regeneratorRuntime","formatDate","str","date","Date","year","getFullYear","month","getMonth","day","getDate","h","getHours","m","getMinutes","s","getSeconds","_default","exports","components","Card","data","location","jbnr","form","urls","urls1","clnr","taskStatus","userInfor","disabled","computed","_objectSpread","mapGetters","onLoad","option","getUser","id","uni","getStorageSync","userTypeEnum","methods","_this","getTaskByid","then","res","pictureUrls","feedbackResult","reportEdit","_this2","params","feedbackUserid","userId","feedbackName","map","url","join","$service","personMange","taskEdit","code","$refs","uNotify","show","type","message","msg","duration","safeAreaInsetTop","setTimeout","navigateBack","upLoadAfterRead","event","_this3","_asyncToGenerator","mark","_callee","lists","i","result","item","wrap","_callee$","_context","prev","next","concat","file","push","status","length","uploadFilePromise","name","sent","splice","Object","assign","stop","index","_this4","Promise","resolve","reject","a","uploadFile","locatioUrl","filePath","header","Authorization","token","success","JSON","parse","fileName","fail","err","upLoadDelete","handleCheck","$u","route","taskType","note","receiverName","handleReturn"],"mappings":"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","file":"pages/todoAgency/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/todoAgency/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=2c276d68&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=2c276d68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c276d68\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/todoAgency/detail.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=2c276d68&scoped=true&\"","var components\ntry {\n  components = {\n    uNotify: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-notify/u-notify\" */ \"uview-ui/components/u-notify/u-notify.vue\"\n      )\n    },\n    \"u-Form\": function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u--form/u--form\" */ \"uview-ui/components/u--form/u--form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u--textarea/u--textarea\" */ \"uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uUpload: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-upload/u-upload\" */ \"uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uAlbum: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-album/u-album\" */ \"uview-ui/components/u-album/u-album.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <u-notify message=\"Hi uView\" ref=\"uNotify\"></u-notify>\n    <view style=\"margin-bottom:120rpx\">\n      <card :isShadow=\"true\">\n      <u--form labelPosition=\"left\" labelWidth=\"80\">\n        <u-form-item label=\"发布人\">\n          <text>{{ form.promoterName || '' }}</text>\n        </u-form-item>\n        <u-form-item label=\"接收人\">\n          <text>{{ form.receiverName || '' }}</text>\n        </u-form-item>\n\n        <u-form-item label=\"任务类型\">\n          <text>\n            {{\n              form.taskType == \"XDRYHC\"\n                ? \"吸毒人员核查\"\n                : form.taskType == \"LVZSHC\"\n                ? \"旅馆住宿核查\"\n                : form.taskType == \"SCNJJG\"\n                ? \"上传尿检结果\"\n                : form.taskType == \"QD\"\n                ? \"签到\"\n                : \"\"\n            }}</text\n          >\n        </u-form-item>\n        <u-form-item label=\"创建时间\">\n          <text>{{ form.createTime || '' }}</text>\n        </u-form-item>\n        <u-form-item v-if=\"taskStatus == 'FINISH'\" label=\"处理人\">\n          <text>{{ form.feedbackName || '' }}</text>\n        </u-form-item>\n        <!-- <u-form-item v-if=\"taskStatus == 'FINISH'\" label=\"完成时间\">\n          <text>{{ form.feedbackTime || '' }}</text>\n        </u-form-item> -->\n        <u-form-item labelPosition=\"top\" label=\"任务描述\">\n          <u--textarea\n            v-model=\"form.note\"\n            disabled\n            placeholder=\"请输入内容\"\n          ></u--textarea>\n        </u-form-item>\n        <u-form-item labelPosition=\"top\" label=\"反馈内容\">\n          <u--textarea\n            v-model=\"clnr\"\n            :disabled=\"disabled\"\n            placeholder=\"请输入内容\"\n          ></u--textarea>\n        </u-form-item>\n        <u-form-item\n          labelPosition=\"top\"\n          label=\"图片\"\n          v-if=\"form.taskStatus == 'CREATE'\"\n          disabled\n        >\n          <u-upload\n            :fileList=\"urls\"\n            :maxCount=\"1\"\n            @afterRead=\"upLoadAfterRead\"\n            @delete=\"upLoadDelete\"\n          ></u-upload>\n        </u-form-item>\n        <u-form-item\n          labelPosition=\"top\"\n          label=\"图片\"\n          v-if=\"form.taskStatus == 'FINISH'\"\n          class=\"fkzp\"\n          disabled\n        >\n          <u-album :urls=\"urls1\"  :rowCount=\"4\" class=\"fktp\"></u-album>\n        </u-form-item>\n      </u--form>\n      <view slot=\"footer\">\n        <view class=\"flex\">\n          <u-button\n            v-if=\"taskStatus == 'CREATE' && userInfor.userTypeEnum != '禁毒中队'\"\n            type=\"primary\"\n            text=\"立即反馈\"\n            @click=\"reportEdit\"\n            style=\"margin-bottom: 20rpx\"\n          ></u-button>\n          <u-button\n            v-if=\"taskStatus == 'FINISH' && userInfor.userTypeEnum == '禁毒中队'\"\n            type=\"primary\"\n            text=\"重新核查\"\n            @click=\"handleCheck\"\n            style=\"margin-bottom: 20rpx\"\n          ></u-button>\n          <u-button type=\"error\" text=\"返回\" @click=\"handleReturn\"></u-button>\n        </view>\n      </view>\n    </card>\n    </view>\n    \n  </view>\n</template>\n\n<script>\nimport Card from \"@/components/Card.vue\";\nimport { getTaskByid,deleteTask } from \"@/api/montageApi\";\nimport location from \"@/utils/locationUrl\";\nimport { mapGetters } from \"vuex\";\nfunction formatDate(str) {\n  let date = new Date(); //获取系统时间\n  let year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  month = month < 10 ? \"0\" + month : month;\n  let day = date.getDate();\n  day = day < 10 ? \"0\" + day : day;\n  let h = date.getHours();\n  h = h < 10 ? \"0\" + h : h;\n  let m = date.getMinutes();\n  m = m < 10 ? \"0\" + m : m;\n  let s = date.getSeconds();\n  s = s < 10 ? \"0\" + s : s;\n  //let w = date.getDay();        //获取星期几\n  return year + \"-\" + month + \"-\" + day + \" \" + h + \":\" + m + \":\" + s;\n  // return year + \"-\" + month + \"-\" + day;\n}\nexport default {\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      location,\n      jbnr: \"\",\n      form: {},\n      urls: [],\n      urls1: [],\n      clnr: \"\",\n      taskStatus: null,\n      userInfor: [],\n      disabled: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"token\"]),\n  },\n  onLoad(option) {\n    this.getUser(option.id);\n    if (option.taskStatus) {\n      this.taskStatus = option.taskStatus || \"\";\n    }\n    this.userInfor = uni.getStorageSync(\"userInfor\");\n    if (this.userInfor.userTypeEnum == '禁毒中队') {\n      this.disabled = true;\n    }\n    if (option.taskStatus == 'FINISH') {\n       this.disabled = true\n    }\n  },\n  methods: {\n    getUser(id) {\n      getTaskByid(id).then((res) => {\n        this.form = res.data || {}\n        this.urls1 =  [ 'https://gayws.wuchuangroup.com:8443/prod-api' + res.data.pictureUrls] || \"\"\n        this.clnr = res.data.feedbackResult\n      });\n    },\n    // 完成任务\n    reportEdit() {\n      let params = {};\n      if (this.taskStatus == \"CREATE\") {\n        params = {\n          id: this.form.id,\n          taskStatus: \"FINISH\",\n          feedbackResult: this.clnr,\n          // feedbackTime:formatDate(),\n          feedbackUserid: this.userInfor.userId,\n          feedbackName: this.userInfor.userId,\n          pictureUrls:\n            this.urls\n              .map((e) => {\n                return e.url;\n              })\n              .join(\",\") || \"\",\n        };\n      } else {\n        params = {\n          id: this.form.id,\n          taskStatus: \"FINISH\",\n          feedbackResult: this.clnr,\n          // feedbackTime:formatDate(),\n          feedbackUserid: this.userInfor.userId,\n          feedbackName: this.userInfor.userId,\n        };\n      }\n      this.$service.personMange.taskEdit(params).then((res) => {\n        if (res.code == 200) {\n          this.$refs.uNotify.show({\n            type: \"success\",\n            message: res.msg,\n            duration: 1000 * 3,\n            safeAreaInsetTop: true,\n          });\n          setTimeout(() => {\n              uni.navigateBack();\n            }, 1000);\n          \n        } else {\n          this.$refs.uNotify.show({\n            type: \"error\",\n            message: res.msg,\n            duration: 1000 * 3,\n            safeAreaInsetTop: true,\n          });\n        }\n      });\n    },\n    async upLoadAfterRead(event) {\n      let lists = [].concat(event.file);\n      lists.map((item) => {\n        this.urls.push({\n          ...item,\n          status: \"uploading\",\n          message: \"上传中\",\n        });\n      });\n      for (let i = 0; i < lists.length; i++) {\n        const result = await this.uploadFilePromise(lists[i].url, event.name);\n        let item = this.urls[0];\n        this.urls.splice( 0,1,Object.assign(item, {\n            status: \"success\",\n            message: \"\",\n            url: result,\n          })\n        );\n      }\n    },\n    uploadFilePromise(url, index) {\n      return new Promise((resolve, reject) => {\n         \n        let a = uni.uploadFile({\n          url: this.location.locatioUrl + \"/common/upload\",\n          filePath: url,\n          name: \"file\",\n          header: {\n            Authorization: \"Bearer \" + this.token,\n          },\n          success: (res) => {\n            setTimeout(() => {\n              let data = JSON.parse(res.data);\n              //   this.location.ImgUrl+'/prod-api' +\n              resolve( data.fileName);\n            }, 1000);\n          },\n          fail: (err) => {\n          },\n        });\n      });\n    },\n    upLoadDelete(event) {\n      this.urls.splice(0, 1);\n    },\n    //  重新核查\n    handleCheck() {\n      uni.$u.route({\n        url: \"/pages/pushTask/cxhc?id=\" + this.form.id,\n        params: {\n          taskStatus: \"CREATE\",\n          taskType: this.form.taskType,\n          note: this.form.note,\n          receiverName:this.form.receiverName\n        },\n      });\n    },\n    // 返回上一级\n    handleReturn() {\n     uni.navigateBack()\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep.container {\n  padding: 30rpx 30rpx 0 30rpx;\n  .u-form-item__body {\n    padding: 8rpx 0;\n  }\n  .u-form-item__body__right__content__slot {\n    justify-content: flex-end;\n  }\n}\n.flex {\n  display: flex;\n}\n.ubutton {\n  width: 50%;\n}\n.popview {\n  width: 80vw;\n}\n::v-deep .fkzp{\n .u-form-item__body__right__content__slot:last-child{\n  justify-content: flex-start;\n }\n.fktp{\n  text-align: left;\n}\n}\n</style>","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=2c276d68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=2c276d68&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1733995320133\n      var cssReload = require(\"/Users/renshuaiweidemac/Desktop/localhostProject/h5/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}