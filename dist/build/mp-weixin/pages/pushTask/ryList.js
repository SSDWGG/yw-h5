(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pushTask/ryList"],{"0b66":function(t,e,n){"use strict";(function(t){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){return u(t)||s(t)||a(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=m(t,"string");return"symbol"==i(e)?e:e+""}function m(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(){n.e("components/Card").then(function(){return resolve(n("ae8d"))}.bind(null,n)).catch(n.oe)};e.default={components:{Card:p},data:function(){return{searchList:[],keyword:"",isActive:-1,form:{pageSize:10,pageNum:1},tableData:[],show1:!1,show2:!1,show3:!1,show4:!1,fxdj:{value:"",id:""},hjpcs:{value:"",id:""},ryzt:{value:"",id:""},pcs:{value:"",id:""},mjList:[{name:"张三",id:1},{name:"李四",id:2},{name:"章鱼哥",id:3}],fxdjList:[[{label:"高风险",id:"GFX"},{label:"中风险",id:"ZFX"},{label:"低风险",id:"DFX"},{label:"取消选择"}]],pcsList:[],ryztList:[[{label:"未复吸",id:"WEI_FU_XI"},{label:"社区戒毒",id:"JIE_DU"},{label:"社区康复",id:"KANG_FU"},{label:"强制戒毒",id:"QIANG_ZHI_JIE_DU"},{label:"服刑",id:"FU_XING"},{label:"失联",id:"SHI_LIAN"},{label:"取消选择"}]],loadStatus:"loadmore",checkList:[],role:"",arr:[]}},onLoad:function(t){"派出所民警"==t.role?this.role="地方派出所":this.role=t.role,this.getData()},methods:{cancel:function(){this.isActive=-1},filterParams:function(){var t={};return"地方派出所"==this.role?t=d(d({},this.form),{},{userTypeEnum:"地方派出所",deptId:this.hjpcs.id}):(t=d(d({},this.form),{},{deptId:this.hjpcs.id,drugUserStatus:this.ryzt.id,riskLevel:this.fxdj.id}),""==this.hjpcs.id&&delete t.localPoliceStation,""==this.ryzt.id&&delete t.drugUserStatus,""==this.fxdj.id&&delete t.riskLevel),t},getData:function(t){var e=this,n=this.filterParams();"地方派出所"==this.role?this.$service.personMange.getUserList(n).then((function(t){200==t.code&&(e.tableData=t.rows,e.form.pageNum*e.form.pageSize>=t.total?e.loadStatus="nomore":e.loadStatus="loadmore")})):this.$service.personMange.getxdryList(n).then((function(t){200==t.code&&(e.tableData=t.data.content,(t.data.number+1)*t.data.size>=t.data.totalElements?e.loadStatus="nomore":e.loadStatus="loadmore")}))},loadingMore:function(){var t=this;if("nomore"!=this.loadStatus){this.form.pageNum++,this.loadStatus="loading";var e=this.filterParams();"地方派出所"==this.role?this.$service.personMange.getUserList(e).then((function(e){var n;200==e.code&&((n=t.tableData).push.apply(n,o(e.rows)),t.form.pageNum*t.form.pageSize>=e.total?t.loadStatus="nomore":t.loadStatus="loadmore")})):this.$service.personMange.getxdryList(e).then((function(e){var n;200==e.code&&((n=t.tableData).push.apply(n,o(e.data.content)),(e.data.number+1)*e.data.size>=e.data.totalElements?t.loadStatus="nomore":t.loadStatus="loadmore")}))}},confirm1:function(e){t.hideKeyboard(),this.fxdj.value="取消选择"==e.value[0].label?"":e.value[0].label,this.fxdj.id="取消选择"==e.value[0].label?"":e.value[0].id,this.show1=!1,this.getData(this.fxdj.id)},confirm2:function(t){this.hjpcs.value="取消选择"==t.value[0].label?"":t.value[0].label,this.hjpcs.id="取消选择"==t.value[0].label?"":t.value[0].id,this.show2=!1,this.getData(this.hjpcs.id)},confirm3:function(t){this.ryzt.value="取消选择"==t.value[0].label?"":t.value[0].label,this.ryzt.id="取消选择"==t.value[0].label?"":t.value[0].id,this.getData(this.ryzt.id),this.show3=!1},confirm4:function(t){this.pcs.value="取消选择"==t.value[0].label?"":t.value[0].label,this.pcs.id="取消选择"==t.value[0].label?"":t.value[0].id,this.getData(this.pcs.id),this.show4=!1},selectRy:function(t,e){this.isActive=e,this.checkList=t},handleSure:function(){""==this.checkList?this.$refs.uNotify.show({type:"warning",message:"请选择人员",duration:3e3,safeAreaInsetTop:!0}):(t.navigateBack(),t.$emit("setData",{name:this.checkList.nickName||this.checkList.name,id:this.checkList.userId||this.checkList.userid}))},handlePcs:function(){var t=this;"地方派出所"==this.role?this.show4=!0:this.show2=!0,this.$service.pushTask.chosePcs().then((function(e){200==e.code&&(t.pcsList=[t.filterArr(e.data)],t.pcsList[0].push({id:0,label:"取消选择"}))}))},filterArr:function(t){var e=this,n=[];return t.map((function(t){if(n.push({label:t.label,id:t.id}),t.children){var i=e.filterArr(t.children);n.push.apply(n,o(i))}})),n},handleInput:function(){var t=this;""!==this.keyword.trim()?this.searchList=this.mjList.filter((function(e){return e.name.includes(t.keyword)})):this.searchList=[]},handleClick:function(t){this.keyword=t.name,this.getData(this.keyword),this.searchList=[]}}}}).call(this,n("543d")["default"])},"1e91":function(t,e,n){"use strict";(function(t){n("6cdc");i(n("66fd"));var e=i(n("9c14"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"1fac":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,"f6fa"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"d9ad"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"f86b"))},uLoadmore:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-loadmore/u-loadmore")]).then(n.bind(null,"eb64"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"665d"))},uNotify:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-notify/u-notify")]).then(n.bind(null,"ffaf"))}},o=function(){var t=this,e=t.$createElement,i=(t._self._c,n("1fe2"));t._isMounted||(t.e0=function(e){t.show1=!0},t.e1=function(e){t.show3=!0},t.e2=function(e){t.show1=!1},t.e3=function(e){t.show2=!1},t.e4=function(e){t.show3=!1},t.e5=function(e){t.show4=!1}),t.$mp.data=Object.assign({},{$root:{m0:i}})},r=[]},"921c":function(t,e,n){"use strict";var i=n("c98d"),o=n.n(i);o.a},"9c14":function(t,e,n){"use strict";n.r(e);var i=n("1fac"),o=n("b0b2");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("921c");var a,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"164a8c4e",null,!1,i["a"],a);e["default"]=u.exports},b0b2:function(t,e,n){"use strict";n.r(e);var i=n("0b66"),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},c98d:function(t,e,n){}},[["1e91","common/runtime","common/vendor"]]]);